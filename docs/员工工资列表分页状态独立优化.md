# 员工工资列表分页状态独立优化

## 修改概述

本次修改解决了员工工资列表和员工列表分页状态混乱的问题，实现了两个列表的分页状态完全独立，互不影响。

## 修改内容

### 1. 添加独立的搜索状态

- 新增 `salarySearchTerm` 状态，专门用于员工工资列表的搜索
- 保持原有 `searchTerm` 状态用于员工列表搜索
- 两个搜索状态完全独立，互不影响

### 2. 修改工资列表加载函数

- 更新 `loadEmployeesSalary` 函数，使用 `salarySearchTerm` 而不是 `searchTerm`
- 确保工资列表搜索使用独立的搜索条件

### 3. 添加独立的搜索界面

- 在员工工资明细表格标题区域添加独立的搜索框
- 搜索框绑定 `salarySearchTerm` 状态和 `handleSalarySearch` 处理函数
- 支持回车键快速搜索

### 4. 修复useEffect依赖关系

- 更新工资列表的useEffect依赖，添加 `salarySearchTerm` 依赖
- 确保搜索条件变化时自动重新加载数据
- 移除对员工列表分页状态的错误依赖

## 业务逻辑

### 分页状态独立性

1. **员工列表分页**：使用 `pagination` 状态，包含当前页码、页面大小、总数等
2. **工资列表分页**：使用 `paginationSalary` 状态，完全独立的分页控制
3. **搜索状态独立**：两个列表使用不同的搜索状态，避免相互干扰

### 数据加载逻辑

1. **员工列表**：依赖 `pagination` 状态和 `searchTerm` 搜索条件
2. **工资列表**：依赖 `paginationSalary` 状态和 `salarySearchTerm` 搜索条件
3. **时间周期**：两个列表共享 `selectedPeriod` 时间选择

## 影响范围

### 前端组件

- `PayrollView.tsx`：主要修改文件，实现分页状态独立

### 用户体验改进

1. **独立操作**：用户可以独立操作两个列表的分页和搜索
2. **状态保持**：切换列表时，各自的分页和搜索状态得到保持
3. **性能优化**：避免不必要的数据重新加载

## 测试验证

### 功能测试点

1. **分页独立性**：
   - 员工列表翻页不影响工资列表页码
   - 工资列表翻页不影响员工列表页码

2. **搜索独立性**：
   - 员工列表搜索不影响工资列表显示
   - 工资列表搜索不影响员工列表显示

3. **状态保持**：
   - 切换月份时，分页状态正确重置
   - 搜索条件在合理范围内保持

### 验证结果

- ✅ 开发服务器启动正常
- ✅ 页面加载无错误
- ✅ 分页控件独立工作
- ✅ 搜索功能独立工作

## 注意事项

1. **数据一致性**：确保两个列表使用相同的时间周期参数
2. **性能考虑**：避免同时触发多个数据加载请求
3. **用户体验**：保持界面操作的一致性和直观性
4. **错误处理**：独立的错误提示，不相互影响

## 后续优化建议

1. 考虑添加加载状态的独立管理
2. 优化搜索防抖机制
3. 添加分页大小的用户自定义选项
4. 考虑添加列表数据的缓存机制